import{r as s,v as a,j as e,c as n,d as r,f as o,ae as t,T as i,F as d,h as l,af as c,I as m,ag as p,ah as u,i as h,ak as x,y as g,e as f}from"./vendor-ClnM7L9C.js";import{A as j,h as w}from"./index-DQ7WhwzY.js";function y(){const{dispatch:y}=s.useContext(j),b=a(),[v,C]=s.useState(!1),[S,P]=s.useState(!1);return e.jsx(n,{component:"main",maxWidth:"xs",children:e.jsxs(r,{sx:{marginTop:8,display:"flex",alignItems:"center",flexDirection:"column"},children:[e.jsx(o,{sx:{m:1,bgcolor:"secondary.main"},children:e.jsx(t,{})}),e.jsx(i,{component:"h1",variant:"h5",children:"Sign Up"}),e.jsxs(r,{component:"form",onSubmit:async s=>{s.preventDefault();const a=new FormData(s.currentTarget),e=a.get("email"),n=a.get("password");if(n!==a.get("confirmpassword"))return void C(!0);const r={query:"/api/auth/register",method:"POST",dispatch:y,body:{email:e,password:n}},o=await w(r),{success:t,status:i}=o;t&&200===i&&(f("Your user has been successfully created.",{variant:"success"}),b("/login"))},sx:{mt:1,width:"100%"},children:[e.jsxs(d,{fullWidth:!0,children:[e.jsx(l,{required:!0,fullWidth:!0,autoFocus:!0,id:"email",name:"email",margin:"normal",label:"Email",autoComplete:"Email",inputProps:{type:"email"}}),e.jsx(l,{required:!0,fullWidth:!0,id:"password",margin:"normal",name:"password",type:"password",label:"Password",autoComplete:"password"}),e.jsx(l,{required:!0,fullWidth:!0,error:v,margin:"normal",id:"confirmpassword",name:"confirmpassword",label:"Confirm Password",autoComplete:"password",onFocus:()=>C(!1),type:S?"text":"password",sx:{backgroundColor:"rgb(232,240,254)"},helperText:v?"Passwords did not match":"",InputProps:{endAdornment:e.jsx(c,{position:"end",children:e.jsx(m,{edge:"end",onClick:()=>P((s=>!s)),onMouseDown:s=>{s.preventDefault()},"aria-label":"toggle password visibility",children:S?e.jsx(p,{}):e.jsx(u,{})})})}})]}),e.jsx(h,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2},children:"Sign Me Up"})]}),e.jsx(x,{container:!0,children:e.jsxs(x,{item:!0,typography:"body2",children:["Already have an account?"," ",e.jsx(g,{variant:"body1",component:"button",onClick:()=>b("/login"),children:"Sign In"})]})})]})})}export{y as default};

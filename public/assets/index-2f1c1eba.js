import{r as a,x as e,a as s,d as n,j as r,f as o,g as t,ag as i,T as d,F as l,i as m,ah as c,I as p,ai as u,aj as h,k as g,am as f,D as w,e as b}from"./vendor-edc92a48.js";import{A as y,h as x}from"./index-83e89ab7.js";function v(){const{dispatch:v}=a.useContext(y),C=e(),[S,D]=a.useState(!1),[P,W]=a.useState(!1);return s(n,{component:"main",maxWidth:"xs",children:r(o,{sx:{marginTop:8,display:"flex",alignItems:"center",flexDirection:"column"},children:[s(t,{sx:{m:1,bgcolor:"secondary.main"},children:s(i,{})}),s(d,{component:"h1",variant:"h5",children:"Sign Up"}),r(o,{component:"form",onSubmit:async a=>{a.preventDefault();const e=new FormData(a.currentTarget),s=e.get("email"),n=e.get("password");if(n!==e.get("confirmpassword"))return void D(!0);const r={query:"/api/auth/register",method:"POST",dispatch:v,body:{email:s,password:n}},o=await x(r),{success:t,status:i}=o;t&&200===i&&(b("Your user has been successfully created.",{variant:"success"}),C("/login"))},sx:{mt:1,width:"100%"},children:[r(l,{fullWidth:!0,children:[s(m,{required:!0,fullWidth:!0,autoFocus:!0,id:"email",name:"email",margin:"normal",label:"Email",autoComplete:"Email",inputProps:{type:"email"}}),s(m,{required:!0,fullWidth:!0,id:"password",margin:"normal",name:"password",type:"password",label:"Password",autoComplete:"password"}),s(m,{required:!0,fullWidth:!0,error:S,margin:"normal",id:"confirmpassword",name:"confirmpassword",label:"Confirm Password",autoComplete:"password",onFocus:()=>D(!1),type:P?"text":"password",sx:{backgroundColor:"rgb(232,240,254)"},helperText:S?"Passwords did not match":"",InputProps:{endAdornment:s(c,{position:"end",children:s(p,{edge:"end",onClick:()=>W((a=>!a)),onMouseDown:a=>{a.preventDefault()},"aria-label":"toggle password visibility",children:s(P?u:h,{})})})}})]}),s(g,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2},children:"Sign Me Up"})]}),s(f,{container:!0,children:r(f,{item:!0,typography:"body2",children:["Already have an account?"," ",s(w,{variant:"body1",component:"button",onClick:()=>C("/login"),children:"Sign In"})]})})]})})}export{v as default};
